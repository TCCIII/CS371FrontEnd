{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\Cloud_Files\\\\School\\\\Spring_2020\\\\front_end_prototype\\\\Site\\\\src\\\\SearchMovie.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport NotFound from './images/imagenotfound.jpg';\n\nclass InTheaters extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n    this.fetchData = this.fetchData.bind(this);\n    this.addMovie = this.addMovie.bind(this);\n    this.state = {\n      url: 'https://api.themoviedb.org/3/search/movie?api_key=619797393cd52383263f43d35d25f59f&language=en-US&query=',\n      urlEnd: '&page=1&include_adult=false',\n      search: this.props.search,\n      movies: [],\n      listId: \"e936c6a4-3ddf-4b6c-b95c-404f82653ffe\",\n      getMovieUrl: 'https://api.themoviedb.org/3/movie/',\n      getMovieEnd: '?api_key=619797393cd52383263f43d35d25f59f&language=en-US'\n    };\n  }\n\n  componentDidMount() {}\n\n  handleClick(event) {}\n\n  onSubmit(e) {\n    e.preventDefault();\n  }\n\n  onChangeSearchTitle(e) {\n    this.setState({\n      search: e.target.value\n    });\n  }\n\n  async fetchData(e) {\n    e.preventDefault();\n    $.support.cors = true;\n    return $.ajax({\n      url: this.state.url + this.state.search + this.state.urlEnd,\n      method: \"GET\",\n      success: data => {\n        this.setState({\n          movies: data.results\n        });\n      },\n      error: data => {\n        alert(\"Error\");\n      }\n    });\n  }\n\n  async addMovie(e) {\n    e.preventDefault();\n    var movieId = e.target.value;\n    var addedMovie = {};\n    $.support.cors = true;\n    $.ajax({\n      url: this.state.getMovieUrl + movieId + this.state.getMovieEnd,\n      method: \"GET\",\n      success: data => {\n        addedMovie = data;\n        var currentList = [];\n        axios.get(\"http://cs371-backend.herokuapp.com/list/\").then(response => {\n          currentList = response.data[0];\n          currentList.movies.push(addedMovie);\n          console.log(JSON.stringify(currentList));\n          axios.post(\"http://cs371-backend.herokuapp.com/list\", currentList).then(response => {}).catch(function (error) {\n            console.log(error);\n            alert(\"error\");\n          });\n        }).catch(function (error) {\n          console.log(error);\n          alert(\"error\");\n        });\n      },\n      error: data => {\n        alert(\"Error\");\n      }\n    });\n  }\n\n  render() {\n    let link;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \"Search Movies\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSumbit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, \"Search: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.search,\n      onChange: this.onChangeSearchTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.fetchData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 33\n      }\n    }, \"Movie\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, this.state.movies.map(data => {\n      if (data.backdrop_path === null) {\n        link = NotFound;\n      } else {\n        link = \"https://image.tmdb.org/t/p/original\" + data.backdrop_path;\n      }\n\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: data.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: link,\n        width: \"300\",\n        height: \"200\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 45\n        }\n      }, data.title), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 44\n        }\n      }, data.overview)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        value: data.id,\n        onClick: this.addMovie,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 45\n        }\n      }, \"Add\")));\n    })))));\n  }\n\n}\n\nexport default InTheaters;","map":{"version":3,"sources":["D:/Desktop/Cloud_Files/School/Spring_2020/front_end_prototype/Site/src/SearchMovie.js"],"names":["React","Component","axios","$","NotFound","InTheaters","constructor","props","handleClick","bind","onSubmit","onChangeSearchTitle","fetchData","addMovie","state","url","urlEnd","search","movies","listId","getMovieUrl","getMovieEnd","componentDidMount","event","e","preventDefault","setState","target","value","support","cors","ajax","method","success","data","results","error","alert","movieId","addedMovie","currentList","get","then","response","push","console","log","JSON","stringify","post","catch","render","link","onSumbit","map","backdrop_path","id","title","overview"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nimport NotFound from './images/imagenotfound.jpg';\r\n\r\nclass InTheaters extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\r\n        this.fetchData = this.fetchData.bind(this);\r\n        this.addMovie = this.addMovie.bind(this);\r\n\r\n        this.state = {\r\n                url: 'https://api.themoviedb.org/3/search/movie?api_key=619797393cd52383263f43d35d25f59f&language=en-US&query=',\r\n                urlEnd: '&page=1&include_adult=false',\r\n                search: this.props.search,\r\n                movies: [],\r\n                listId: \"e936c6a4-3ddf-4b6c-b95c-404f82653ffe\",\r\n                getMovieUrl: 'https://api.themoviedb.org/3/movie/',\r\n                getMovieEnd: '?api_key=619797393cd52383263f43d35d25f59f&language=en-US'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    handleClick(event) {\r\n\r\n    }\r\n\r\n    onSubmit(e)\r\n    {\r\n        e.preventDefault();\r\n    }\r\n\r\n    onChangeSearchTitle(e)\r\n    {\r\n        this.setState({\r\n            search: e.target.value\r\n        })\r\n    }\r\n\r\n    async fetchData(e)\r\n    {\r\n        e.preventDefault();\r\n\r\n        $.support.cors = true;\r\n\r\n        return $.ajax({\r\n            url: this.state.url + this.state.search + this.state.urlEnd,\r\n            method: \"GET\",\r\n            success: (data) => {\r\n                this.setState({\r\n                    movies: data.results\r\n                })\r\n            },\r\n            error: (data) => {\r\n                alert(\"Error\");\r\n            }\r\n        })\r\n    }\r\n\r\n    async addMovie(e) {\r\n        e.preventDefault();\r\n        var movieId = e.target.value;\r\n        var addedMovie = {};\r\n        $.support.cors = true;\r\n        $.ajax({\r\n            url: this.state.getMovieUrl + movieId + this.state.getMovieEnd,\r\n            method: \"GET\",\r\n            success: (data) => {\r\n                addedMovie = data;\r\n                var currentList = [];\r\n                axios.get(\"http://cs371-backend.herokuapp.com/list/\")\r\n                    .then(response => {\r\n                        currentList = response.data[0];\r\n                        currentList.movies.push(addedMovie);\r\n                        console.log(JSON.stringify(currentList));\r\n                        axios.post( \"http://cs371-backend.herokuapp.com/list\", currentList )\r\n                        .then(response => {\r\n                            \r\n                        })\r\n                        .catch(function (error) {\r\n                            console.log(error)\r\n                            alert(\"error\")\r\n                        });\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log(error)\r\n                        alert(\"error\")\r\n                    })\r\n            },\r\n            error: (data) => {\r\n                alert(\"Error\");\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let link;\r\n        return (\r\n            <div>\r\n                <h3>Search Movies</h3>\r\n                <form onSubmit={this.onSumbit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Search: </label>\r\n                        <input type=\"text\"\r\n                            value={this.state.search}\r\n                            onChange={this.onChangeSearchTitle}\r\n                        />\r\n                        <button onClick={this.fetchData}>Search</button>\r\n                    </div>\r\n                </form>\r\n                <div className=\"results\">\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Movie</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.movies.map((data) => {\r\n                                if (data.backdrop_path === null) { link = NotFound; } else {\r\n                                    link = \"https://image.tmdb.org/t/p/original\" + data.backdrop_path;\r\n                                }\r\n                                return (\r\n                                    <tr key={data.id}>\r\n                                        <td>\r\n                                            <img src={link} width=\"300\" height=\"200\"></img>\r\n                                        </td>\r\n                                        <td>\r\n                                            <h1>{data.title}</h1>\r\n                                           <p>{data.overview}</p>\r\n                                        </td>\r\n                                        <td><button value={data.id} onClick={this.addMovie}>Add</button></td>\r\n                                    </tr>\r\n                                )\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default InTheaters;  "]},"metadata":{},"sourceType":"module"}